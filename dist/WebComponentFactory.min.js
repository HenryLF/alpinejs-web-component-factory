import e from"alpinejs";export function WebComponentFactory(i,a,s=()=>({}),...o){let t;typeof a=="string"?(t=document.createElement("template"),t.innerHTML=a):t=a;class l extends HTMLElement{root;data;_value="";get value(){return this._value}set value(n){this._value!==n&&(this._value=n,this.data?.$val!==void 0&&(this.data.$val=n),this.dispatchEvent(new Event("input")))}constructor(){super(),this.root=this.attachShadow({mode:"open"})}connectedCallback(){this.root.appendChild(t.content.cloneNode(!0)),this.data=e.reactive({$val:this._value,...s(...o)}),e.effect(()=>{this.data.$val!==this._value&&(this._value=this.data.$val,this.dispatchEvent(new Event("input")))}),e.addScopeToNode(this.root,this.data),e.initTree(this.root)}}customElements.define(i,l)}
